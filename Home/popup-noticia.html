<!-- Notice / Announcement Modal -->
<div id="notice-overlay" class="notice-overlay" hidden></div>

<div
  id="notice-modal"
  class="notice-modal"
  role="dialog"
  aria-modal="true"
  aria-labelledby="notice-title"
  aria-describedby="notice-desc"
  hidden
>
  <button class="notice-close" aria-label="Fechar aviso" title="Fechar">
    <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
      <path
        d="M18.3 5.71a1 1 0 0 0-1.41 0L12 10.59 7.11 5.7A1 1 0 0 0 5.7 7.11L10.59 12l-4.9 4.89a1 1 0 1 0 1.41 1.42L12 13.41l4.89 4.9a1 1 0 0 0 1.42-1.41L13.41 12l4.9-4.89a1 1 0 0 0-.01-1.4Z"
        fill="currentColor"
      />
    </svg>
  </button>

  <div class="notice-media">
    <!-- Troque a imagem abaixo pela sua -->
    <img src="images/academia-img.png" alt="" />
  </div>

  <div class="notice-content">
    <h2 id="notice-title">Aviso Importante</h2>
    <p id="notice-desc">
      Pequeno texto de apoio explicando o anúncio. Você pode incluir links,
      datas e instruções rápidas.
    </p>

    <div class="notice-actions">
      <!-- Exemplo de CTA opcional -->
      <a href="#" class="notice-cta">Saiba mais</a>
    </div>
  </div>
</div>

<style>
  /* ---- Modal Overlay ---- */
  .notice-overlay {
    position: fixed;
    inset: 0;
    background: color-mix(in srgb, var(--bg-0, #000) 65%, transparent);
    /* Fallback para navegadores sem color-mix */
    background: var(--overlay-fallback, #000000a6);
    backdrop-filter: blur(2px);
    z-index: 9998;
  }

  /* ---- Modal ---- */
  .notice-modal {
    position: fixed;
    inset: 0;
    margin: auto;
    width: min(92vw, 720px);
    max-height: min(92vh, 90dvh);
    overflow: hidden;
    display: grid;
    grid-template-rows: auto 1fr;
    background: var(--card, #0c1512);
    color: var(--text, #e6f6ef);
    border: 1px solid color-mix(in srgb, var(--ring, #00ffa3) 16%, transparent);
    border-radius: var(--radius, 16px);
    box-shadow: var(--shadow-1, 0 10px 30px rgba(0, 0, 0, 0.35)),
      var(--shadow-2, 0 2px 10px rgba(0, 0, 0, 0.25));
    z-index: 9999;
    font-family: inherit; /* herda Inter do site */
    transform: translateY(8px) scale(0.98);
    opacity: 0;
    pointer-events: none;
    isolation: isolate;
  }

  .notice-modal[data-open="true"] {
    opacity: 1;
    transform: translateY(0) scale(1);
    pointer-events: auto;
    transition: opacity 0.2s ease,
      transform 0.25s cubic-bezier(0.2, 0.8, 0.2, 1);
  }

  /* ---- Close Button ---- */
  .notice-close {
    position: absolute;
    top: 0.75rem;
    right: 0.75rem;
    display: grid;
    place-items: center;
    width: 36px;
    height: 36px;
    border-radius: 999px;
    border: 1px solid color-mix(in srgb, var(--ring, #00ffa3) 24%, transparent);
    background: var(--bg-2, #0a0f0d);
    color: var(--muted, #a7c7bb);
    box-shadow: var(--shadow-1, 0 10px 30px rgba(0, 0, 0, 0.35));
    cursor: pointer;
    transition: transform 0.15s ease, opacity 0.15s ease, background 0.15s ease,
      color 0.15s ease, border-color 0.15s ease;
    z-index: 10; /* garante ficar acima da imagem */
    pointer-events: auto; /* garante clique mesmo sobreposto */
  }
  .notice-close:hover {
    transform: scale(1.06);
    color: var(--text, #e6f6ef);
  }
  .notice-close:focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px
      color-mix(in srgb, var(--ring, #00ffa3) 35%, transparent);
  }

  /* ---- Media ---- */
  .notice-media {
    background: var(--bg-1, #0e1a16);
    border-bottom: 1px solid
      color-mix(in srgb, var(--ring, #00ffa3) 12%, transparent);
    aspect-ratio: 16/9;
    overflow: hidden;
  }
  .notice-media img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    filter: saturate(1.05) contrast(1.02);
  }

  /* ---- Content ---- */
  .notice-content {
    padding: clamp(1rem, 2.5vw, 1.25rem) clamp(1rem, 3vw, 1.5rem) 1.25rem;
    display: grid;
    gap: 0.75rem;
    background: linear-gradient(
      180deg,
      color-mix(in srgb, var(--card, #0c1512) 100%, transparent) 0%,
      color-mix(in srgb, var(--card-2, #0b130f) 100%, transparent) 100%
    );
  }
  .notice-content h2 {
    margin: 0;
    line-height: 1.15;
    font-size: clamp(1.15rem, 2.2vw, 1.5rem);
    letter-spacing: 0.2px;
    color: var(--text, #e6f6ef);
  }
  .notice-content p {
    margin: 0;
    color: var(--muted, #a7c7bb);
    font-size: clamp(0.95rem, 1.8vw, 1rem);
  }

  .notice-actions {
    margin-top: 0.25rem;
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
    align-items: center;
  }
  .notice-cta {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.6rem 0.9rem;
    border-radius: calc(var(--radius, 16px) - 8px);
    font-weight: 600;
    text-decoration: none;
    color: var(--bg-0, #000);
    background: linear-gradient(
      180deg,
      color-mix(in srgb, var(--brand, #00ffa3) 92%, transparent) 0%,
      color-mix(in srgb, var(--brand, #00ffa3) 80%, transparent) 100%
    );
    border: 1px solid color-mix(in srgb, var(--ring, #00ffa3) 35%, transparent);
    box-shadow: var(--shadow-2, 0 2px 10px rgba(0, 0, 0, 0.25));
    transition: transform 0.12s ease, filter 0.12s ease, box-shadow 0.12s ease;
  }
  .notice-cta:hover {
    transform: translateY(-1px);
    filter: saturate(1.05);
  }
  .notice-cta:focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px
      color-mix(in srgb, var(--ring, #00ffa3) 35%, transparent);
  }

  /* ---- Responsive ---- */
  @media (min-width: 720px) {
    .notice-modal {
      grid-template-rows: auto 1fr;
    }
  }

  /* ---- Motion preferences ---- */
  @media (prefers-reduced-motion: reduce) {
    .notice-modal,
    .notice-close,
    .notice-cta {
      transition: none !important;
    }
  }

  
</style>

<script>
  (function () {
    const modal = document.getElementById("notice-modal");
    const overlay = document.getElementById("notice-overlay");
    const closeBtn = modal.querySelector(".notice-close");

    function open() {
      overlay.hidden = false;
      modal.hidden = false;

      void modal.offsetWidth; // força reflow para a transição
      modal.setAttribute("data-open", "true");

      if (closeBtn) closeBtn.focus();
      document.documentElement.style.overflow = "hidden";
    }

    function close() {
      modal.removeAttribute("data-open");
      setTimeout(() => {
        overlay.hidden = true;
        modal.hidden = true;
        document.documentElement.style.overflow = "";
      }, 200);
    }

    // >>> Removi o fechamento pelo overlay <<<
    // overlay.addEventListener("click", close);

    if (closeBtn) closeBtn.addEventListener("click", close);

    window.addEventListener("keydown", (e) => {
      if (!modal.hidden && (e.key === "Escape" || e.key === "Esc")) {
        e.preventDefault();
        close();
      }
    });

    window.openNotice = open;
    window.closeNotice = close;

// abre automático no load (remover!)
window.openNotice = open;
window.closeNotice = close;
  })();
</script>
